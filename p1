#include <stdio.h>
#include <mraa.h>
#include <i2c.h>

int main(void)
{
    mraa_i2c_context temp;
    mraa_i2c_context luz;
    temp= mraa_i2c_init(0);
    luz=mraa_i2c_init(0);
    mraa_i2c_address(luz,0x70);
    mraa_i2c_address(temp,0x40);
    
    
    float s=0,t=0,h=0,l=0;
    
    do
    {
        printf("Menu \n");
        printf("1.- Leer Temperatura\n");
        printf("2.- Leer Humedad\n");
        printf("3.- Leer Sensibilidad de Luz\n");
        printf("4.- Salir \n");
        scanf("%d",&s);
        
        switch(s)
        {
        
            case 1:
                printf("Temp: \n");
                t=mraa_i2c_read(temp,0x40);
                x=(t/32)-50;
                printf("%d",&x);
                
                break;
                
            case 2:
                printf("Humedad: \n");
                h=mraa_i2c_read(temp,0x40);
                x=(h/16)-24;
                
                break;
            
            case 3:
                printf("Luminidad: \n");
                l=mraa_i2c_read(luz,0x70);
                printf("%d",&l);
                break;
        }
    }
    while(s!=4);
    
    
    return 0;
}
